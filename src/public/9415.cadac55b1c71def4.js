"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9415],{9415:(G,p,i)=>{i.r(p),i.d(p,{GamePageModule:()=>A});var E=i(4190),y=i(3910),h=i(9808),a=i(4182),n=i(2974),f=i(1e3),x=i(9019),e=i(2096),v=i(7857),P=i(1511),F=i(7078),Z=i(7426);function I(s,o){if(1&s&&(e.TgZ(0,"div",13),e._UZ(1,"ion-img",14),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("src",t.url+(null==t.imgField?null:t.imgField.value))}}function U(s,o){if(1&s&&(e.TgZ(0,"ion-item",15),e.TgZ(1,"div",16),e._uU(2),e.qZA(),e._UZ(3,"ion-radio",17),e.qZA()),2&s){const t=o.$implicit;e.xp6(2),e.Oqu(t.descripcion),e.xp6(1),e.Q6J("value",t.respuestaId)}}const T=[{path:"",component:(()=>{class s{constructor(t,r,u,l){this.serStorage=t,this.serResp=r,this.router=u,this.fb=l,this.listpreguntas=[],this.indiceActual=0,this.respUser=[],this.valor=0,this.txtbtn="SIGUIENTE",this.url=x.N.serverImages,this.buildForm()}ngOnInit(){const{preguntas:t}=this.serStorage.get("quizz");this.listpreguntas=t,this.indiceActual=0,this.formPreg.patchValue({preguntaId:t[0].preguntaId,titulo:t[0].titulo,img:t[0].img})}buildForm(){this.formPreg=this.fb.group({preguntaId:[""],titulo:[""],img:[""],respuestaId:["",[a.kI.required]]})}get preguntaIdField(){return this.formPreg.get("preguntaId")}get tituloField(){return this.formPreg.get("titulo")}get imgField(){return this.formPreg.get("img")}get respuestaIdField(){return this.formPreg.get("respuestaId")}setRespuetaId(t){this.valor=t.detail.value}nextPregunta(t){var r;const u=this.listpreguntas.find(d=>d.preguntaId==t);let l=this.listpreguntas.indexOf(u);if(this.respUser.length<this.listpreguntas.length-1&&this.respUser.push({preguntaId:null===(r=this.preguntaIdField)||void 0===r?void 0:r.value,respuestaId:this.valor}),console.log(this.respUser),l+1<=this.listpreguntas.length-2&&(this.buildForm(),this.formPreg.reset(this.formPreg.value),this.formPreg.patchValue({preguntaId:this.listpreguntas[l+1].preguntaId,titulo:this.listpreguntas[l+1].titulo,img:this.listpreguntas[l+1].img}),this.indiceActual=l+1,this.indiceActual==this.listpreguntas.length-2&&(this.txtbtn="FINALZAR")),this.respUser.length==this.listpreguntas.length-1){const{cuestionarioId:d}=this.serStorage.get("quizz"),{jugadorId:O}=this.serStorage.get("estudiante"),m={jugadorId:O,cuestionarioId:d,respuestasJugador:this.respUser};console.log(m),this.serResp.createAnswers(m).subscribe(c=>{if(1==c.status){let C=c.data.quizzPlayerId;this.serStorage.set("quizzPlayerId",C),this.serResp.getFirstAnswer(C).subscribe(g=>{g.preguntas==g.aciertos?(this.router.navigate(["/congratulations"]),this.serStorage.set("calf",g)):(this.serStorage.set("calf",g),this.router.navigate(["/comodin"]))})}console.log(c)})}}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(v.Y),e.Y36(P.G),e.Y36(f.F0),e.Y36(a.qu))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-game"]],decls:23,vars:7,consts:[[1,"ion-padding"],[1,"container"],[1,"card","mb-3","animate__animated","animate__fadeIn"],[1,"card-body"],[3,"formGroup"],[1,"ion-text-center"],[1,"titulo-pg"],["class","imagen text-center ion-margin-vertical",4,"ngIf"],[1,"pregunta","ion-text-center","ion-margin-bottom"],["formControlName","respuestaId",3,"ionChange"],["lines","full",4,"ngFor","ngForOf"],[1,"ion-margin-top","ion-justify-content-center"],["expand","block","color","success","type","submit",1,"btn-op",3,"disabled","click"],[1,"imagen","text-center","ion-margin-vertical"],[3,"src"],["lines","full"],[1,"ion-text-justify"],["slot","start","color","warning",3,"value"]],template:function(t,r){1&t&&(e._UZ(0,"app-header-game"),e.TgZ(1,"ion-content",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"form",4),e.TgZ(6,"div",5),e.TgZ(7,"h3",6),e._uU(8),e.qZA(),e.qZA(),e.YNc(9,I,2,1,"div",7),e.TgZ(10,"div",8),e.TgZ(11,"h4"),e.TgZ(12,"strong"),e._uU(13),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"h5"),e._uU(15,"Respuesta: "),e.qZA(),e.TgZ(16,"ion-list"),e.TgZ(17,"ion-radio-group",9),e.NdJ("ionChange",function(l){return r.setRespuetaId(l)}),e.YNc(18,U,4,2,"ion-item",10),e.qZA(),e.qZA(),e.TgZ(19,"ion-row",11),e.TgZ(20,"ion-button",12),e.NdJ("click",function(){return r.nextPregunta(null==r.preguntaIdField?null:r.preguntaIdField.value)}),e._uU(21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(22,"app-footer-game")),2&t&&(e.xp6(5),e.Q6J("formGroup",r.formPreg),e.xp6(3),e.hij(" Pregunta ",r.indiceActual+1," "),e.xp6(1),e.Q6J("ngIf",""!=(null==r.imgField?null:r.imgField.value)),e.xp6(4),e.Oqu(null==r.tituloField?null:r.tituloField.value),e.xp6(5),e.Q6J("ngForOf",r.listpreguntas[r.indiceActual].respuestas),e.xp6(2),e.Q6J("disabled",!r.formPreg.valid),e.xp6(1),e.Oqu(r.txtbtn))},directives:[F.d,n.W2,a._Y,a.JL,a.sg,h.O5,n.q_,n.se,n.QI,a.JJ,a.u,h.sg,n.Nd,n.YG,Z.R,n.Xz,n.Ie,n.B7,n.U5],styles:["@import\"https://fonts.googleapis.com/css2?family=Dosis:wght@300&display=swap\";*[_ngcontent-%COMP%]{font-family:Dosis,sans-serif}ion-content[_ngcontent-%COMP%]{--background: none;background-color:#fff;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2000 1500'%3E%3Cdefs%3E%3Crect stroke='%23FFFFFF' stroke-width='0.2' width='1' height='1' id='s'/%3E%3Cpattern id='a' width='3' height='3' patternUnits='userSpaceOnUse' patternTransform='rotate(320 1000 750) scale(20.1) translate(-950.25 -712.69)'%3E%3Cuse fill='%23fcfcfc' href='%23s' y='2'/%3E%3Cuse fill='%23fcfcfc' href='%23s' x='1' y='2'/%3E%3Cuse fill='%23fafafa' href='%23s' x='2' y='2'/%3E%3Cuse fill='%23fafafa' href='%23s'/%3E%3Cuse fill='%23f7f7f7' href='%23s' x='2'/%3E%3Cuse fill='%23f7f7f7' href='%23s' x='1' y='1'/%3E%3C/pattern%3E%3Cpattern id='b' width='7' height='11' patternUnits='userSpaceOnUse' patternTransform='rotate(320 1000 750) scale(20.1) translate(-950.25 -712.69)'%3E%3Cg fill='%23f5f5f5'%3E%3Cuse href='%23s'/%3E%3Cuse href='%23s' y='5' /%3E%3Cuse href='%23s' x='1' y='10'/%3E%3Cuse href='%23s' x='2' y='1'/%3E%3Cuse href='%23s' x='2' y='4'/%3E%3Cuse href='%23s' x='3' y='8'/%3E%3Cuse href='%23s' x='4' y='3'/%3E%3Cuse href='%23s' x='4' y='7'/%3E%3Cuse href='%23s' x='5' y='2'/%3E%3Cuse href='%23s' x='5' y='6'/%3E%3Cuse href='%23s' x='6' y='9'/%3E%3C/g%3E%3C/pattern%3E%3Cpattern id='h' width='5' height='13' patternUnits='userSpaceOnUse' patternTransform='rotate(320 1000 750) scale(20.1) translate(-950.25 -712.69)'%3E%3Cg fill='%23f5f5f5'%3E%3Cuse href='%23s' y='5'/%3E%3Cuse href='%23s' y='8'/%3E%3Cuse href='%23s' x='1' y='1'/%3E%3Cuse href='%23s' x='1' y='9'/%3E%3Cuse href='%23s' x='1' y='12'/%3E%3Cuse href='%23s' x='2'/%3E%3Cuse href='%23s' x='2' y='4'/%3E%3Cuse href='%23s' x='3' y='2'/%3E%3Cuse href='%23s' x='3' y='6'/%3E%3Cuse href='%23s' x='3' y='11'/%3E%3Cuse href='%23s' x='4' y='3'/%3E%3Cuse href='%23s' x='4' y='7'/%3E%3Cuse href='%23s' x='4' y='10'/%3E%3C/g%3E%3C/pattern%3E%3Cpattern id='c' width='17' height='13' patternUnits='userSpaceOnUse' patternTransform='rotate(320 1000 750) scale(20.1) translate(-950.25 -712.69)'%3E%3Cg fill='%23f2f2f2'%3E%3Cuse href='%23s' y='11'/%3E%3Cuse href='%23s' x='2' y='9'/%3E%3Cuse href='%23s' x='5' y='12'/%3E%3Cuse href='%23s' x='9' y='4'/%3E%3Cuse href='%23s' x='12' y='1'/%3E%3Cuse href='%23s' x='16' y='6'/%3E%3C/g%3E%3C/pattern%3E%3Cpattern id='d' width='19' height='17' patternUnits='userSpaceOnUse' patternTransform='rotate(320 1000 750) scale(20.1) translate(-950.25 -712.69)'%3E%3Cg fill='%23FFFFFF'%3E%3Cuse href='%23s' y='9'/%3E%3Cuse href='%23s' x='16' y='5'/%3E%3Cuse href='%23s' x='14' y='2'/%3E%3Cuse href='%23s' x='11' y='11'/%3E%3Cuse href='%23s' x='6' y='14'/%3E%3C/g%3E%3Cg fill='%23efefef'%3E%3Cuse href='%23s' x='3' y='13'/%3E%3Cuse href='%23s' x='9' y='7'/%3E%3Cuse href='%23s' x='13' y='10'/%3E%3Cuse href='%23s' x='15' y='4'/%3E%3Cuse href='%23s' x='18' y='1'/%3E%3C/g%3E%3C/pattern%3E%3Cpattern id='e' width='47' height='53' patternUnits='userSpaceOnUse' patternTransform='rotate(320 1000 750) scale(20.1) translate(-950.25 -712.69)'%3E%3Cg fill='%23FFC148'%3E%3Cuse href='%23s' x='2' y='5'/%3E%3Cuse href='%23s' x='16' y='38'/%3E%3Cuse href='%23s' x='46' y='42'/%3E%3Cuse href='%23s' x='29' y='20'/%3E%3C/g%3E%3C/pattern%3E%3Cpattern id='f' width='59' height='71' patternUnits='userSpaceOnUse' patternTransform='rotate(320 1000 750) scale(20.1) translate(-950.25 -712.69)'%3E%3Cg fill='%23FFC148'%3E%3Cuse href='%23s' x='33' y='13'/%3E%3Cuse href='%23s' x='27' y='54'/%3E%3Cuse href='%23s' x='55' y='55'/%3E%3C/g%3E%3C/pattern%3E%3Cpattern id='g' width='139' height='97' patternUnits='userSpaceOnUse' patternTransform='rotate(320 1000 750) scale(20.1) translate(-950.25 -712.69)'%3E%3Cg fill='%23FFC148'%3E%3Cuse href='%23s' x='11' y='8'/%3E%3Cuse href='%23s' x='51' y='13'/%3E%3Cuse href='%23s' x='17' y='73'/%3E%3Cuse href='%23s' x='99' y='57'/%3E%3C/g%3E%3C/pattern%3E%3C/defs%3E%3Crect fill='url(%23a)' width='100%25' height='100%25'/%3E%3Crect fill='url(%23b)' width='100%25' height='100%25'/%3E%3Crect fill='url(%23h)' width='100%25' height='100%25'/%3E%3Crect fill='url(%23c)' width='100%25' height='100%25'/%3E%3Crect fill='url(%23d)' width='100%25' height='100%25'/%3E%3Crect fill='url(%23e)' width='100%25' height='100%25'/%3E%3Crect fill='url(%23f)' width='100%25' height='100%25'/%3E%3Crect fill='url(%23g)' width='100%25' height='100%25'/%3E%3C/svg%3E\");background-attachment:fixed;background-size:cover}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;flex-direction:column;justify-content:center}#life[_ngcontent-%COMP%]{font-size:2em}.titulo-pg[_ngcontent-%COMP%]{color:#000;font-weight:600;letter-spacing:1px}.imagen[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.imagen[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{min-width:100px;width:150px}.titulo-resp[_ngcontent-%COMP%]{font-size:1.55em;letter-spacing:1px;font-weight:700}.btn-op[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:700;font-size:1.33em;letter-spacing:2px;color:#000}.pregunta[_ngcontent-%COMP%]{color:var(--ion-color-ocean)!important}"]}),s})()}];let w=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[f.Bz.forChild(T)],f.Bz]}),s})(),A=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[h.ez,a.u5,a.UX,n.Pc,y.r,E.h,w]]}),s})()}}]);