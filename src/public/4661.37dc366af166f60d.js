"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4661],{4661:(B,Z,a)=>{a.r(Z),a.d(Z,{ReportsPageModule:()=>D});var d=a(5415),T=a(8593),h=a(4546),l=a(9808),A=a(4182),i=a(2974),_=a(5529),t=a(2096),q=a(7857),U=a(3716),m=a(1291),g=a(1e3);function v(e,s){if(1&e&&(t.TgZ(0,"ion-select-option",15),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.Q6J("value",n.cuestionarioId),t.xp6(1),t.Oqu(n.titulo)}}function x(e,s){1&e&&(t.TgZ(0,"span"),t.TgZ(1,"ion-badge",20),t._uU(2,"S\xcd"),t.qZA(),t.qZA())}function C(e,s){1&e&&(t.TgZ(0,"span"),t.TgZ(1,"ion-badge",21),t._uU(2,"NO"),t.qZA(),t.qZA())}const b=function(e){return["/admin/reports/result",e]};function R(e,s){if(1&e&&(t.TgZ(0,"tr"),t.TgZ(1,"th",16),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",8),t._uU(6),t.qZA(),t.TgZ(7,"td",8),t._uU(8),t.qZA(),t.TgZ(9,"td",8),t.YNc(10,x,3,0,"span",17),t.YNc(11,C,3,0,"span",17),t.qZA(),t.TgZ(12,"td",8),t._uU(13),t.ALo(14,"number"),t.qZA(),t.TgZ(15,"td",8),t.TgZ(16,"div",18),t._UZ(17,"ion-icon",19),t.qZA(),t.qZA(),t.qZA()),2&e){const n=s.$implicit,o=s.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.AsE("",n.jugador.nombre," ",n.jugador.apellido,""),t.xp6(2),t.Oqu(n.jugador.player_name),t.xp6(2),t.Oqu(n.aciertos),t.xp6(2),t.Q6J("ngIf",1==n.comodin),t.xp6(1),t.Q6J("ngIf",0==n.comodin),t.xp6(2),t.Oqu(t.xi3(14,9,n.calificacion,"1.2-2")),t.xp6(4),t.Q6J("routerLink",t.VKq(12,b,n.quizzPlayerId))}}let O=(()=>{class e{constructor(n,o,r){this.serStorage=n,this.serQuizz=o,this.serReport=r,this.idSelecccionado=0,this.cuestionarios=[],this.estudiantes=[],this.dtOptions={},this.dtTrigger=new _.xQ}ngOnInit(){this.dtOptions={pagingType:"simple_numbers",pageLength:5,language:{url:"//cdn.datatables.net/plug-ins/1.11.5/i18n/es-ES.json"}},this.cargarCuestionario()}cargarCuestionario(){const{userId:n}=this.serStorage.get("user");this.serQuizz.getCuestionarios(n).subscribe(o=>{console.log(o),this.cuestionarios=o,this.cuestionarios=this.cuestionarios.filter(r=>"A"==r.estado),this.dtTrigger.next()})}cambiarQuizz(n){this.idSelecccionado=n.detail.value,this.estudiantes=[],this.dtElement.dtInstance.then(o=>{o.destroy()}),this.serReport.getResultados(this.idSelecccionado).subscribe(o=>{1==o.status&&(console.log(o.data),this.estudiantes=o.data,this.dtTrigger.next())})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(q.Y),t.Y36(U.J),t.Y36(m.F))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-result"]],viewQuery:function(n,o){if(1&n&&t.Gf(d.G,5),2&n){let r;t.iGM(r=t.CRH())&&(o.dtElement=r.first)}},decls:33,vars:4,consts:[[1,"container"],["lines","none"],["interface","alert","placeholder","Escoja uno","cancelText","Cancelar","okText","Aceptar",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[1,""],[1,"col-lg-10","offset-lg-1"],[1,"row"],[1,"col-md-12","mb-3"],[1,"text-center"],[1,"text-dark","titulo"],[1,"table-responsive"],["datatable","",1,"table","table-striped",3,"dtOptions","dtTrigger"],[1,"table-dark"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[3,"value"],["scope","row",1,"text-end"],[4,"ngIf"],[1,"actions"],["name","eye","color","medium",2,"font-size","20px",3,"routerLink"],["color","success"],["color","warning"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"ion-item",1),t.TgZ(2,"ion-label"),t._uU(3,"Cuestionario"),t.qZA(),t.TgZ(4,"ion-select",2),t.NdJ("ionChange",function(p){return o.cambiarQuizz(p)}),t.YNc(5,v,2,2,"ion-select-option",3),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"div",6),t.TgZ(9,"div",7),t.TgZ(10,"div",8),t.TgZ(11,"strong",9),t._uU(12,"Resultados del Cuestionario"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",10),t.TgZ(14,"table",11),t.TgZ(15,"thead"),t.TgZ(16,"tr",12),t.TgZ(17,"th",13),t._uU(18,"#"),t.qZA(),t.TgZ(19,"th",13),t._uU(20,"Nombre"),t.qZA(),t.TgZ(21,"th",13),t._uU(22,"Usuario"),t.qZA(),t.TgZ(23,"th",13),t._uU(24,"Aciertos"),t.qZA(),t.TgZ(25,"th",13),t._uU(26,"Uso del Comod\xedn"),t.qZA(),t.TgZ(27,"th",13),t._uU(28,"Calificaci\xf3n"),t.qZA(),t.TgZ(29,"th",13),t._uU(30,"Acciones"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"tbody"),t.YNc(32,R,18,14,"tr",14),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(5),t.Q6J("ngForOf",o.cuestionarios),t.xp6(9),t.Q6J("dtOptions",o.dtOptions)("dtTrigger",o.dtTrigger),t.xp6(18),t.Q6J("ngForOf",o.estudiantes))},directives:[i.Ie,i.Q$,i.t9,i.QI,l.sg,d.G,i.n0,l.O5,i.gu,i.YI,g.rH,i.yp],pipes:[l.JJ],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap";*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}ion-select[_ngcontent-%COMP%]{width:100%}']}),e})();var y=a(9019);function I(e,s){1&e&&(t.TgZ(0,"span"),t._uU(1,"No"),t.qZA())}function P(e,s){1&e&&(t.TgZ(0,"span"),t._uU(1,"S\xed"),t.qZA())}function Q(e,s){if(1&e&&(t.TgZ(0,"div",17),t._UZ(1,"ion-img",18),t.qZA()),2&e){const n=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.Q6J("src",o.url+(null==n?null:n.img))}}function J(e,s){1&e&&(t.ynx(0),t._UZ(1,"ion-icon",21),t.BQk())}function F(e,s){1&e&&(t.ynx(0),t._UZ(1,"ion-icon",22),t.BQk())}function z(e,s){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"ion-item",19),t.TgZ(2,"span"),t.YNc(3,J,2,0,"ng-container",10),t.YNc(4,F,2,0,"ng-container",10),t.qZA(),t.TgZ(5,"p",20),t._uU(6),t.qZA(),t.qZA(),t.qZA()),2&e){const n=s.$implicit,o=t.oxw().index,r=t.oxw();t.xp6(3),t.Q6J("ngIf",r.respuestasUser[o]==n.respuestaId),t.xp6(1),t.Q6J("ngIf",r.respuestasUser[o]!=n.respuestaId),t.xp6(2),t.Oqu(n.descripcion)}}function Y(e,s){1&e&&(t.TgZ(0,"ion-badge",23),t._uU(1,"Correcta"),t.qZA())}function N(e,s){1&e&&(t.TgZ(0,"ion-badge",24),t._uU(1,"Incorrecta"),t.qZA())}function M(e,s){if(1&e&&(t.TgZ(0,"div",7),t.TgZ(1,"div",8),t.TgZ(2,"div",9),t.TgZ(3,"h5"),t.TgZ(4,"strong"),t._uU(5),t.qZA(),t.qZA(),t._UZ(6,"hr"),t.qZA(),t.YNc(7,Q,2,1,"div",12),t.TgZ(8,"label"),t.TgZ(9,"strong"),t._uU(10,"Pregunta: "),t.qZA(),t._uU(11),t.qZA(),t._UZ(12,"br"),t.YNc(13,z,7,3,"div",13),t.TgZ(14,"div",14),t.YNc(15,Y,2,0,"ion-badge",15),t.YNc(16,N,2,0,"ion-badge",16),t.qZA(),t.qZA(),t.qZA()),2&e){const n=s.$implicit,o=s.index,r=t.oxw();t.xp6(5),t.hij("Pregunta ",o+1,""),t.xp6(2),t.Q6J("ngIf",""!=(null==n?null:n.img)),t.xp6(4),t.Oqu(null==n?null:n.titulo),t.xp6(2),t.Q6J("ngForOf",n.respuestas),t.xp6(2),t.Q6J("ngIf",1==r.correctas[o].esCorrecta),t.xp6(1),t.Q6J("ngIf",0==r.correctas[o].esCorrecta)}}let L=(()=>{class e{constructor(n,o){this.aRoute=n,this.serResult=o,this.calificacion=0,this.aciertos=0,this.comodin=!1,this.preguntas=[],this.respuestasUser=[],this.correctas=[],this.url=y.N.serverImages,this.id=this.aRoute.snapshot.paramMap.get("id")}ngOnInit(){null!=this.id&&this.serResult.getResultadoById(parseInt(this.id)).subscribe(n=>{this.data=n.data,this.cuestionario=this.data.cuestionario,this.calificacion=this.data.calificacion,this.comodin=this.data.comodin,this.preguntas=this.data.respuestas.map(u=>u.pregunta),this.estudiante=this.data.jugador,this.respuestasUser=this.data.respuestas.map(u=>u.respuestaId);let o=this.data.respuestas.map(u=>u.pregunta.respuestas),r=[];o.forEach(u=>{u.forEach(c=>{r.push(c)})});let p=0;r.forEach(u=>{this.respuestasUser.forEach(c=>{u.respuestaId==c&&1==u.valor&&p++})}),this.aciertos=p,this.correctas=this.data.respuestas.map(u=>{const c={};return c.preguntaId=u.preguntaId,c.respuestaId=u.respuestaId,c.esCorrecta=r.filter(f=>1==f.valor&&f.respuestaId==u.respuestaId).length>0,c})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.gz),t.Y36(m.F))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-result"]],decls:76,vars:18,consts:[[1,"ion-padding"],["vertical","top","horizontal","start","slot","fixed"],["size","small","color","ocean","routerLink","/admin/reports"],["size","large","name","arrow-back"],[1,"container-fluid"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","mb-3"],[1,"card-body"],[1,"text-center"],[4,"ngIf"],["class","card mb-3",4,"ngFor","ngForOf"],["class","imagen text-center",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-center","mt-3"],["color","success",4,"ngIf"],["color","danger",4,"ngIf"],[1,"imagen","text-center"],[3,"src"],["lines","full"],[1,"ion-text-justify"],["name","ellipse","slot","start","color","ocean",1,"ion-margin-end","icon-resp"],["name","ellipse","slot","start","color","medium",1,"ion-margin-end","icon-resp"],["color","success"],["color","danger"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-content",0),t.TgZ(1,"ion-fab",1),t.TgZ(2,"ion-fab-button",2),t._UZ(3,"ion-icon",3),t.qZA(),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"div",8),t.TgZ(9,"div",5),t.TgZ(10,"div",9),t.TgZ(11,"h5"),t.TgZ(12,"strong"),t._uU(13,"Datos del Cuestionario"),t.qZA(),t.qZA(),t._UZ(14,"hr"),t.qZA(),t.qZA(),t.TgZ(15,"label"),t.TgZ(16,"strong"),t._uU(17,"C\xf3digo: "),t.qZA(),t._uU(18),t.qZA(),t._UZ(19,"br"),t.TgZ(20,"label"),t.TgZ(21,"strong"),t._uU(22,"T\xedtulo: "),t.qZA(),t._uU(23),t.qZA(),t._UZ(24,"br"),t.TgZ(25,"label"),t.TgZ(26,"strong"),t._uU(27,"Descripci\xf3n: "),t.qZA(),t._uU(28),t.qZA(),t._UZ(29,"br"),t.TgZ(30,"label"),t.TgZ(31,"strong"),t._uU(32,"Fecha Disponible: "),t.qZA(),t._uU(33),t.ALo(34,"date"),t.qZA(),t._UZ(35,"br"),t.TgZ(36,"label"),t.TgZ(37,"strong"),t._uU(38,"Uso del Comod\xedn: "),t.qZA(),t.YNc(39,I,2,0,"span",10),t.YNc(40,P,2,0,"span",10),t.qZA(),t._UZ(41,"br"),t.TgZ(42,"label"),t.TgZ(43,"strong"),t._uU(44,"Aciertos: "),t.qZA(),t._uU(45),t.qZA(),t._UZ(46,"br"),t.TgZ(47,"label"),t.TgZ(48,"strong"),t._uU(49,"Calificaci\xf3n: "),t.qZA(),t._uU(50),t.ALo(51,"number"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(52,"div",7),t.TgZ(53,"div",8),t.TgZ(54,"div",5),t.TgZ(55,"div",9),t.TgZ(56,"h5"),t.TgZ(57,"strong"),t._uU(58,"Datos del Estudiante"),t.qZA(),t.qZA(),t._UZ(59,"hr"),t.qZA(),t.qZA(),t.TgZ(60,"label"),t.TgZ(61,"strong"),t._uU(62,"Nombres: "),t.qZA(),t._uU(63),t.qZA(),t._UZ(64,"br"),t.TgZ(65,"label"),t.TgZ(66,"strong"),t._uU(67,"Apellidos: "),t.qZA(),t._uU(68),t.qZA(),t._UZ(69,"br"),t.TgZ(70,"label"),t.TgZ(71,"strong"),t._uU(72,"Usuario: "),t.qZA(),t._uU(73),t.qZA(),t._UZ(74,"br"),t.qZA(),t.qZA(),t.YNc(75,M,17,6,"div",11),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(18),t.Oqu(null==o.cuestionario?null:o.cuestionario.codigo),t.xp6(5),t.Oqu(null==o.cuestionario?null:o.cuestionario.titulo),t.xp6(5),t.Oqu(null==o.cuestionario?null:o.cuestionario.descripcion),t.xp6(5),t.Oqu(t.xi3(34,12,null==o.cuestionario?null:o.cuestionario.fecha_disp,"dd/MM/yyyy")),t.xp6(6),t.Q6J("ngIf",!o.comodin),t.xp6(1),t.Q6J("ngIf",o.comodin),t.xp6(5),t.Oqu(o.aciertos),t.xp6(5),t.Oqu(t.xi3(51,15,o.calificacion,"1.2-2")),t.xp6(13),t.Oqu(null==o.estudiante?null:o.estudiante.nombre),t.xp6(5),t.Oqu(null==o.estudiante?null:o.estudiante.apellido),t.xp6(5),t.Oqu(null==o.estudiante?null:o.estudiante.player_name),t.xp6(2),t.Q6J("ngForOf",o.preguntas))},directives:[i.W2,i.IJ,i.W4,i.YI,g.rH,i.gu,l.O5,l.sg,i.Xz,i.Ie,i.yp],pipes:[l.uU,l.JJ],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap";*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.imagen[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.imagen[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{min-width:100px;width:150px}.icon-resp[_ngcontent-%COMP%]{font-size:22px}']}),e})();var E=a(3646),j=a(4662);const w=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-reports"]],decls:4,vars:0,consts:[["titulo","Reportes"]],template:function(n,o){1&n&&(t._UZ(0,"app-header",0),t.TgZ(1,"ion-content"),t._UZ(2,"ion-router-outlet"),t.qZA(),t._UZ(3,"app-footer"))},directives:[E.G,i.W2,i.jP,j.c],styles:[""]}),e})(),children:[{path:"",component:O},{path:"result/:id",component:L}]}];let S=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.Bz.forChild(w)],g.Bz]}),e})(),D=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.ez,A.u5,i.Pc,h.O,T._,d.T,S]]}),e})()}}]);